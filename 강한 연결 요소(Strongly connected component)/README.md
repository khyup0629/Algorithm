# 강한 연결 요소

+ [코사라주(Kosaraju) 알고리즘](#코사라주-Kosaraju-알고리즘)

## 코사라주(Kosaraju) 알고리즘

1. 정방향 그래프와 역방향 그래프를 준비합니다.
2. 정방향 그래프를 이용해서 DFS 탐색을 모든 노드에서 수행합니다.
3. 스택 자료구조를 이용해 가장 마지막 노드부터 거슬러 올라오면서 스택에 추가합니다.
4. 역방향 그래프를 이용해 DFS 탐색을 스택 자료구조에서 노드를 하나씩 pop하면서 수행합니다.
5. 역방향 DFS 함수가 한 번씩 끝날 때마다 탐색한 노드의 묶음들이 각각 `강한 연결 요소`가 됩니다.

> <h3>Tip</h3>

- 방문 여부 리스트를 잘 활용해야 합니다.
  - 정뱡향, 역방향 DFS를 수행할 때 시작 노드가 미방문 상태라면 DFS를 수행합니다.

> <h3>예시</h3>

![image](https://user-images.githubusercontent.com/43658658/129837919-2a581258-50fc-4eeb-8e67-e5f585f21e75.png)

1번 노드부터 출발해서 DFS를 수행하면 4번 노드를 거쳐 5번 노드에서 더 이상 깊게 들어갈 수 없습니다. 

따라서 5, 4순으로 거슬러 올라오면서 스택 자료구조에 추가합니다.

`Stack = [5, 4]`

![image](https://user-images.githubusercontent.com/43658658/129837933-d682fc52-f8e7-4450-aeb7-343852fb672e.png)

마찬가지로 6, 7, 3, 2순으로 나머지 노드를 DFS를 수행하고 종료됩니다.

따라서 2, 3, 7, 6, 1순으로 노드들을 스택 자료구조에 추가합니다.

`Stack = [5, 4, 2, 3, 7, 6, 1]`

다음으로 역방향 그래프를 이용하여 스택에서 pop 되는 노드 순서대로 역방향 dfs 를 진행합니다. 

아래 그림과 같이 스택에서 가장 먼저 1번 노드가 pop 됩니다.

![image](https://user-images.githubusercontent.com/43658658/129838184-4ca59bc7-c3d2-4f2a-8ae3-cccd39d4f2ca.png)

1번 노드에서 역방향 그래프의 DFS를 진행하게 되면 5번 노드를 거쳐 4번 노드에서 DFS가 종료됩니다.

따라서 1, 5, 4번 노드가 `강한 연결 요소`로 묶이게 됩니다.

![image](https://user-images.githubusercontent.com/43658658/129838253-c6291ab1-8208-4b7a-a46c-8cb23a4e5d04.png)

다음으로 pop되는 6번 노드에서 DFS 탐색을 시작합니다. 하지만 6번 노드에서는 더 이상 갈 곳이 없으므로 바로 탐색이 종료됩니다.

따라서 6번 노드만이 `강한 연결 요소`가 됩니다.

![image](https://user-images.githubusercontent.com/43658658/129838314-24ec77d4-b325-46e7-ad10-0f1382c0e3ef.png)

다음으로 pop되는 7번 노드에서 DFS 탐색을 시작합니다. 3, 2번 노드를 탐색 후 DFS가 종료됩니다.

따라서 7, 3, 2번 노드가 `강한 연결 요소`로 묶이게 됩니다.

모든 요소를 한 번씩 방문했으므로 나머지 pop되는 노드들은 DFS 탐색을 수행하지 않습니다.
