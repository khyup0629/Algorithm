# 라빈 카프(Rabin-Karp)

+ 라핀 카프(Rabin-Karp) 알고리즘은 문자열 매칭 알고리즘의 한 종류이다.
+ 항상 빠르진 않지만 일반적인 경우 빠르게 작동하는 간단한 구조의 문자열 매칭 알고리즘이다.
+ 해시(Hash) 기법을 사용한다.
+ 어떤 문자열을 다른 문자열과 구분 가능한 짧은 데이터로 바꾸어주면 된다.

> <h3>라빈 카프의 해시 함수

+ 각 문자의 아스키 코드 값에 2의 제곱 수를 차례대로 곱하여 더해준다.
+ 예를 들어 abacaaba의 해시 값을 구하는 방법은 아래와 같다.

= 97 * 2^7 + 98 * 2^6 + 97 * 2^5 + 99 * 2^4 + 97 * 2^3 + 97 * 2^2 + 98 * 2^1 + 97 * 2^0
= 24,833

+ abacaabb의 해시 값

= 97 * 2^7 + 98 * 2^6 + 97 * 2^5 + 99 * 2^4 + 97 * 2^3 + 97 * 2^2 + 98 * 2^1 + 98 * 2^0 
= 24,834

+ 서로 다른 문자열인데도 해시 값이 같은 경우가 발생할 수 있다.
+ 따라서, 해시 값이 같을 때까지 긴 문자열을 하나씩 탐색하다가
+ 해시 값이 같아지면 부분 문자열과 하나씩 똑같은지 확인하면 된다.

> <h3>라빈 카프의 동작 방식

[문제]
+ 긴 문자열 : ababacabacaabacaaba
+ 짧은 문자열 : abacaaba

![image](https://user-images.githubusercontent.com/43658658/118273801-5b847680-b4ff-11eb-87ba-cc883f1a79eb.png)

[Step 1]

![image](https://user-images.githubusercontent.com/43658658/118273887-70f9a080-b4ff-11eb-9faf-623d3d78b5dd.png)

+ 긴 문자열의 해시 값 : 24824
+ 부분 문자열 해시 값 : 24833

+ 해시 값이 일치하지 않으므로 넘어간다.

[Step 2]

![image](https://user-images.githubusercontent.com/43658658/118273965-8c64ab80-b4ff-11eb-9d7a-d49bfe9bd739.png)

+ 긴 문자열의 해시 값 : 24913
+ 부분 문자열 해시 값 : 24833

+ 해시 값이 일치하지 않으므로 넘어간다.

[Step 3]

![image](https://user-images.githubusercontent.com/43658658/118274175-c46bee80-b4ff-11eb-89bc-3b27bebf2767.png)

+ 긴 문자열의 해시 값 : 24837
+ 부분 문자열 해시 값 : 24833

+ 해시 값이 일치하지 않으므로 넘어간다.

[Step 4]

![image](https://user-images.githubusercontent.com/43658658/118274231-d64d9180-b4ff-11eb-8c59-976e993af002.png)

+ 긴 문자열의 해시 값 : 24939
+ 부분 문자열 해시 값 : 24833

+ 해시 값이 일치하지 않으므로 넘어간다.

[Step 5]

![image](https://user-images.githubusercontent.com/43658658/118274303-ecf3e880-b4ff-11eb-9daa-493b2103de14.png)

+ 긴 문자열의 해시 값 : 24833
+ 부분 문자열 해시 값 : 24833

+ 해시 값이 일치하므로 부분 문자열과 같은지 차례대로 검사 진행.

[결과]

+ 7번째 문자열에서 매칭되는 것을 확인할 수 있다.

> <h3>라빈 카프 알고리즘의 시간 복잡도

+ **O(n)**

> <h3>연속되는 문자열의 해시 값을 빠르게 구할 수 있는 방법

![image](https://user-images.githubusercontent.com/43658658/118275456-650ede00-b501-11eb-813d-49bb5ffb729a.png)

+ 가장 앞에 있는 문자 'a'만큼의 수치를 빼 준 뒤에 2를 곱하고 새롭게 뒤에 들어온 'a'의 수치를 더해준다.
+ 해시 값 = **2 * (긴 문자열 해시 값 - 가장 앞에 있는 문자의 수치) + 새롭게 들어온 문자의 수치**
+ 해시 값 = 2 * (24824 - 97 * 2^7) + 97 = 24913
